/* src/assets/custom.css */

:root {
  --sl-color-accent-low: #450a0a;
  --sl-color-accent: #dc2626;
  --sl-color-accent-high: #f87171;
  
  --sl-color-white: #ffffff;
  --sl-color-gray-1: #e4e4e7;
  --sl-color-gray-2: #a1a1aa;
  --sl-color-gray-3: #71717a;
  --sl-color-gray-4: #52525b;
  --sl-color-gray-5: #3f3f46;
  --sl-color-gray-6: #27272a;
  --sl-color-black: #18181b;
  
  --sl-color-bg: #09090b;
  --sl-color-bg-nav: #18181b;
  --sl-color-bg-sidebar: #18181b;
  
  --sl-color-hairline: #27272a; 
  --sl-color-hairline-light: #27272a;
}

/* 强制深色模式变量 */
:root[data-theme='light'] {
  --sl-color-accent-low: #450a0a;
  --sl-color-accent: #dc2626;
  --sl-color-accent-high: #f87171;
  --sl-color-text-accent: #fca5a5;
  --sl-color-bg: #09090b;
  --sl-color-bg-nav: #18181b;
  --sl-color-bg-sidebar: #18181b;
  --sl-color-text: #e4e4e7;
  --sl-color-hairline: #27272a;
  --sl-color-gray-6: #27272a;
  --sl-color-black: #18181b;
}

/* =========================================
   首页 (Splash) 彻底背景修复
   ========================================= */

/* 针对 HTML 和 Body 进行双重锁定 */
html[data-template='splash'],
body[data-template='splash'] {
  background: 
    linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.8)),
    url('/bg.jpg') no-repeat center center fixed !important;
  background-size: cover !important;
}

/* 强制穿透所有 Starlight 层级 */
[data-template='splash'] .page,
[data-template='splash'] .main-frame,
[data-template='splash'] .content-panel,
[data-template='splash'] .sl-container,
[data-template='splash'] footer,
[data-template='splash'] header {
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* 针对 Hero 组件的特殊处理（图片通常被挡在这里） */
[data-template='splash'] .hero {
  background-color: transparent !important;
}

/* 修复首页标题流光效果，使其更亮 */
.hero h1 {
  background: linear-gradient(to right, #ff4d4d, #f9cb28, #ff4d4d) !important;
  background-size: 200% auto !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  animation: shine 3s linear infinite;
  display: inline-block;
}

@keyframes shine {
  to { background-position: 200% center; }
}

/* =========================================
   UI 细节修复
   ========================================= */

/* 搜索框按钮 */
site-search button[data-open-modal] {
  background-color: var(--sl-color-bg-nav) !important;
  border: 1px solid var(--sl-color-hairline) !important;
}

/* 隐藏切换主题按钮（因为我们要强制深色） */
starlight-theme-select {
  display: none !important;
}

/* 让侧边栏在非首页页面也保持一致的深色感 */
.sidebar-content {
  background-color: var(--sl-color-bg-sidebar);
}